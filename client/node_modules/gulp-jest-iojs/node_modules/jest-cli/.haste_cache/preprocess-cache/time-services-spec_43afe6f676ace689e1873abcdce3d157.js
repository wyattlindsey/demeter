'use strict';

jest.dontMock('../../app/js/lib/time-services');

let TimeServices = require('../../app/js/lib/time-services');

describe("Time Services conversion functions", function () {
  it("should convert from minutes after midnight", function () {
    let noon = TimeServices.convertFromMinutesAfterMidnight(720);
    expect(noon.hour).toBe(12);
    expect(noon.minute).toBe(0);});


  it("should convert from days after new year", function () {
    let summerSolstice = TimeServices.convertFromDaysAfterNewYear(171, 2015);
    expect(summerSolstice.month).toBe(5);
    expect(summerSolstice.date).toBe(21);

    /* check for leap year feb 29 2016 */
    let leapYearDay = TimeServices.convertFromDaysAfterNewYear(59, 2016);
    expect(leapYearDay.month).toBe(1);
    expect(leapYearDay.date).toBe(29);

    let newYearsDay = TimeServices.convertFromDaysAfterNewYear(0);
    expect(newYearsDay.month).toBe(0);
    expect(newYearsDay.date).toBe(0);});});