'use strict';

var SunCalc = require('suncalc');

function SunPosition(date, latitude, longitude) {
  var distance = 70;
  var sunPosition = SunCalc.getPosition(date, latitude, longitude);
  var azimuth = 360 * (Math.PI / 180) - sunPosition.azimuth;
  var altitude = 90 * (Math.PI / 180) - sunPosition.altitude;

  var sunCoordinates = { 
    x: distance * Math.sin(altitude) * Math.sin(azimuth), 
    y: distance * Math.cos(altitude), 
    z: distance * Math.sin(altitude) * Math.cos(azimuth) };


  return sunCoordinates;}


module.exports = SunPosition;