'use strict';

jest.dontMock('../../app/js/lib/sun-position');

var SunPosition = require('../../app/js/lib/sun-position');

describe("Sun position calculation", function () {
  it("should return the correct coordinates for summer solstice at the Tropic of Cancer", function () {
    var summerSolstice = Date.UTC(2016, 5, 21, 12);
    var sunCoords = SunPosition(summerSolstice, 23.5, 1);
    var x = sunCoords.x, 
    y = sunCoords.y, 
    z = sunCoords.z;
    expect(x).toBeCloseTo(0, 0);
    expect(y).toBeCloseTo(70, 0);
    expect(z).toBeCloseTo(0, 0);});


  it("should return the correct coordinates for summer solstice at the Tropic of Capricorn", function () {
    var summerSolstice = Date.UTC(2016, 11, 21, 12);
    var sunCoords = SunPosition(summerSolstice, -23.5, 0);
    var x = sunCoords.x, 
    y = sunCoords.y, 
    z = sunCoords.z;
    expect(x).toBeCloseTo(0, 0);
    expect(y).toBeCloseTo(70, 0);
    expect(z).toBeCloseTo(0, 0);});});